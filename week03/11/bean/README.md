# 네트워크 주소 변환 (NAT)과 DHCP

---


## 1. 네트워크 주소 변환 (NAT)

### NAT의 등장 배경

#### 1.1 IP 주소 공간 고갈 문제
1990년대 초반에 2^32개의 IPv4 주소가 부족하다는 것이 명확해졌다. 인터넷 사용자 수가 급증하면서 IPv4 주소가 고갈되기 시작했다.

**해결책 개발 과정:**
- IPv4의 후속 프로토콜인 IPv6 개발 시작
- 그 사이 임시 방편으로 NAT 등장
- 현재는 IPv6보다 NAT가 더 널리 사용됨

#### 1.2 NAT의 목적
- **주요 기능**: 여러 장치가 기존 호스트 변경 없이 주소를 공유
- **원래 의도**: 단기적 해결책
- **현실**: 널리 사용되는 표준 기술

### NAT의 동작 원리

NAT를 우체국에 비유하면

- **우체국**: NAT 라우터
- **개인 주소**: 사설 IP 주소 (10.0.0.1, 10.0.0.2 등)
- **우체국 주소**: 공인 IP 주소 (138.76.29.7)
- **편지 전송**: 아웃바운드 트래픽
- **편지 수신**: 인바운드 트래픽

#### 1.4 NAT 변환 과정

**아웃바운드 (Outbound)**
- 출발지 IP 주소를 NAT 공인 IP로 변경
- 예시: 10.0.0.1 → 138.76.29.7

**인바운드 (Inbound)**
- 목적지 IP 주소를 내부 사설 IP로 변경
- 예시: 138.76.29.7 → 10.0.0.1

#### 1.5 포트 번호의 역할
```
NAT 테이블 예시:
내부 주소:포트    외부 주소:포트
10.0.0.1:3000 → 138.76.29.7:4000
10.0.0.2:3000 → 138.76.29.7:4001
10.0.0.3:3000 → 138.76.29.7:4002
```

**포트 번호의 중요성:**
- 같은 공인 IP를 여러 내부 장치가 공유
- 포트 번호로 각 연결을 구분
- 우체국에서 각 가정을 구분하는 것과 같음

### NAT에 대한 원칙적 반대

#### 1.6 주요 반대 의견

**1. 라우터가 포트 번호를 보면 안 됨**
- **원칙**: 네트워크 계층은 IP 헤더만 신경써야 함
- **문제**: NAT는 포트 번호까지 검사함
- **비유**: 우체국이 편지 내용까지 읽는 것

**2. 엔드-투-엔드 논증 위반**
- **원칙**: 네트워크 노드는 패킷을 수정하면 안 됨
- **문제**: NAT는 패킷 내용을 수정함
- **비유**: 우체국이 편지 내용을 바꾸는 것

**3. IPv6가 더 깔끔한 해결책**
- **주장**: 임시방편보다는 IPv6로 마이그레이션하는 것이 좋음
- **현실**: NAT가 잘 해주는데 왜 바꿈?

---

## 2. 동적 호스트 구성 프로토콜 (DHCP)

### IP 주소 할당 방법

#### 2.1 IP 주소 획득 방법

**1. 수동 설정**
- **Windows**: 제어판 → 네트워크 → 구성 → TCP/IP → 속성
- **UNIX**: /etc/rc.config
- **특징**: 시스템 관리자가 파일에 하드코딩
- **단점**: 관리가 복잡하고 실수하기 쉬움

**2. DHCP (Dynamic Host Configuration Protocol)**
- **특징**: 서버에서 동적으로 주소 획득
- **장점**: "플러그 앤 플레이"
- **비유**: 호텔에서 방 번호를 자동으로 배정받는 것

### DHCP의 목표와 기능

#### 2.2 주요 목표
- **동적 주소 할당**: 네트워크에 참여할 때 서버에서 IP 주소 획득
- **주소 갱신**: 사용 중인 주소의 임대 갱신 가능
- **주소 재사용**: 연결 중일 때만 주소 보유
- **모바일 지원**: 네트워크에 참여하려는 모바일 사용자 지원

#### 2.3 DHCP 메시지 흐름
```
1단계: DHCP DISCOVER (브로드캐스트)
클라이언트 → 서버: "IP 주소가 필요합니다"

2단계: DHCP OFFER (브로드캐스트)
서버 → 클라이언트: "이 IP 주소를 사용하세요"

3단계: DHCP REQUEST (브로드캐스트)
클라이언트 → 서버: "그 IP 주소를 요청합니다"

4단계: DHCP ACK (브로드캐스트)
서버 → 클라이언트: "IP 주소 할당 완료"
```

### DHCP 클라이언트-서버 시나리오

#### 2.4 네트워크 구성 예시
```
DHCP 서버: 223.1.2.5
네트워크: 223.1.2.0/24

클라이언트가 네트워크에 참여할 때:
1. DHCP DISCOVER (src: 0.0.0.0:68, dest: 255.255.255.255:67)
2. DHCP OFFER (src: 223.1.2.5:67, dest: 255.255.255.255:68)
3. DHCP REQUEST (src: 0.0.0.0:68, dest: 255.255.255.255:67)
4. DHCP ACK (src: 223.1.2.5:67, dest: 255.255.255.255:68)
```

#### 2.5 DHCP 캡슐화 과정
```
DHCP 메시지
    ↓ (UDP로 캡슐화)
UDP 세그먼트
    ↓ (IP로 캡슐화)
IP 데이터그램
    ↓ (이더넷으로 캡슐화)
이더넷 프레임
```

### DHCP 예시

#### 2.6 실제 동작 과정

**클라이언트 측**
- 라우터에 연결된 노트북이 IP 주소 필요
- 첫 홉 라우터 주소, DNS 서버 주소도 필요

**서버 측**
- 라우터에 내장된 DHCP 서버
- 클라이언트 IP 주소, 첫 홉 라우터 주소, DNS 서버 주소 포함한 DHCP ACK 생성

**결과**
- 클라이언트가 자신의 IP 주소, DNS 서버, 첫 홉 라우터 정보 획득

---

## 3. IP 데이터그램 형식

### IP 데이터그램 구조

#### 3.1 IP 헤더 필드

| 필드 | 크기 | 설명 |
|------|------|------|
| **Version** | 4 bits | IP 프로토콜 버전 (IPv4=4, IPv6=6) |
| **Header Length** | 4 bits | IP 헤더의 길이 (4바이트 단위, 기본값=5) |
| **Type of Service** | 8 bits | 데이터의 우선순위와 서비스 품질(QoS) |
| **Total Length** | 16 bits | IP 패킷 전체의 길이 (헤더+데이터) |
| **Identifier** | 16 bits | 단편화된 패킷들을 재조립하기 위한 식별자 |
| **Flags** | 3 bits | 단편화 관련 플래그 (단편화 허용/금지, 마지막 단편 여부) |
| **Fragment Offset** | 13 bits | 단편화된 패킷의 원본 데이터에서의 위치 |
| **Time to Live (TTL)** | 8 bits | 패킷이 살 수 있는 홉(라우터) 수 (무한루프 방지) |
| **Upper Layer Protocol** | 8 bits | 상위 계층 프로토콜 (TCP=6, UDP=17, ICMP=1) |
| **Header Checksum** | 16 bits | IP 헤더의 오류 검출을 위한 체크섬 |
| **Source IP Address** | 32 bits | 송신자의 IP 주소 |
| **Destination IP Address** | 32 bits | 수신자의 IP 주소 |
| **Options** | 가변 | 추가 옵션들 (일반적으로 사용하지 않음) |
| **Data** | 가변 | 상위 계층에서 전달받은 데이터 (페이로드) |

#### 3.2 주요 필드 설명

**버전 (Version)**
- **의미**: IP 프로토콜 버전 번호
- **예시**: IPv4 = 4, IPv6 = 6

**헤더 길이 (Header Length)**
- **의미**: IP 헤더의 길이 (바이트 단위)
- **기본값**: 20바이트

**서비스 타입 (Type of Service)**
- **의미**: 데이터의 "타입"
- **용도**: QoS (Quality of Service) 지원

**총 길이 (Total Length)**
- **의미**: 전체 데이터그램 길이 (바이트 단위)

**식별자 (Identifier)**
- **의미**: 단편화/재조립을 위한 16비트 식별자

**플래그 (Flags)**
- **의미**: 단편화 관련 플래그
- **용도**: 단편화 허용/금지, 마지막 단편 여부

**단편 오프셋 (Fragment Offset)**
- **의미**: 단편화/재조립을 위한 오프셋

**TTL (Time to Live)**
- **의미**: 남은 홉 수 (각 라우터에서 감소)
- **목적**: 무한 루프 방지

**상위 계층 프로토콜 (Upper Layer Protocol)**
- **의미**: 페이로드를 전달할 상위 계층 프로토콜
- **예시**: TCP = 6, UDP = 17

**헤더 체크섬 (Header Checksum)**
- **의미**: 헤더 오류 검출

**출발지/목적지 IP 주소**
- **의미**: 32비트 IP 주소

### 오버헤드 계산

#### 3.3 일반적인 오버헤드
- **TCP 헤더**: 20바이트
- **IP 헤더**: 20바이트
- **총 오버헤드**: 40바이트 + 애플리케이션 계층 오버헤드

### IP 단편화와 재조립

#### 3.4 단편화의 필요성
- **MTU (Maximum Transfer Unit)**: 링크별 최대 전송 단위
- **문제**: 링크 타입마다 다른 MTU
- **해결책**: 큰 IP 데이터그램을 작은 단편으로 분할

#### 3.5 단편화 과정

**예시: 4000바이트 데이터그램, MTU = 1500바이트**

```
원본 데이터그램:
길이: 4000, ID: X, 플래그: 0, 오프셋: 0

단편화 결과:
1. 길이: 1500, ID: X, 플래그: 1, 오프셋: 0 (1480바이트 데이터)
2. 길이: 1500, ID: X, 플래그: 1, 오프셋: 185 (1480바이트 데이터)
3. 길이: 1040, ID: X, 플래그: 0, 오프셋: 370 (1020바이트 데이터)
```

#### 3.6 재조립 특징
- **위치**: 최종 목적지에서만 재조립
- **방법**: ID, 플래그, 오프셋을 사용하여 순서 복원
- **장점**: 중간 라우터의 부담 감소

---

## 4. 네트워크 계층 개요

### 네트워크 계층의 목표

#### 4.1 주요 목표
1. **네트워크 계층 서비스 모델 이해**
2. **포워딩(Forwarding) vs 라우팅(Routing) 구분**
3. **라우터의 동작 방식 이해**
4. **라우팅(경로 선택) 알고리즘 학습**
5. **브로드캐스트, 멀티캐스트 이해**
6. **인터넷에서의 구현과 인스턴스화**

### 네트워크 계층의 역할

#### 4.2 기본 기능
- **송신 호스트에서 수신 호스트로 전송 세그먼트 전달**
- **송신 측**: 세그먼트를 데이터그램으로 캡슐화
- **수신 측**: 전송 계층으로 세그먼트 전달
- **모든 호스트와 라우터에 네트워크 계층 프로토콜 존재**
- **라우터**: 통과하는 모든 IP 데이터그램의 헤더 필드 검사

#### 4.3 계층 구조에서의 위치
```
애플리케이션 계층
전송 계층 ← 네트워크 계층이 전송 세그먼트를 처리
네트워크 계층 ← 여기서 데이터그램으로 캡슐화
데이터 링크 계층
물리 계층
```

### 네트워크 계층의 두 가지 핵심 기능

#### 4.4 포워딩 (Forwarding)
- **정의**: 패킷을 라우터의 입력에서 적절한 라우터 출력으로 이동
- **비유**: 여행 중 특정 교차로를 통과하는 과정
- **특징**: 개별 라우터에서의 로컬 결정

#### 4.5 라우팅 (Routing)
- **정의**: 소스에서 목적지까지 패킷이 취하는 경로 결정
- **비유**: 출발지에서 목적지까지의 전체 여행 계획
- **특징**: 전체 네트워크 경로에 대한 전역적 결정

#### 4.6 포워딩 vs 라우팅 비교

| 구분 | 포워딩 (Forwarding) | 라우팅 (Routing) |
|------|-------------------|------------------|
| **범위** | 개별 라우터 | 전체 네트워크 |
| **시점** | 실시간 | 사전 계획 |
| **비유** | 교차로 통과 | 여행 계획 |
| **복잡도** | 단순 | 복잡 |

### 라우팅과 포워딩의 상호작용

#### 4.7 동작 과정
1. **라우팅 알고리즘**: 네트워크를 통한 엔드-투-엔드 경로 결정
2. **포워딩 테이블**: 이 라우터에서의 로컬 포워딩 결정
3. **실제 전송**: 도착하는 패킷의 헤더 값을 기반으로 출력 링크 결정

#### 4.8 예시
```
라우팅 알고리즘 → 포워딩 테이블 생성
헤더 값: 0111 → 출력 링크: 2번
헤더 값: 0100 → 출력 링크: 3번
```

---

## 5. IP 주소 체계

### IP 주소의 기본 개념

#### 5.1 IP 주소 정의
- **정의**: 고유한 32비트 숫자
- **역할**: 인터페이스 식별 (호스트, 라우터 등)
- **표기법**: 점으로 구분된 4개 숫자 (dotted-quad notation)
- **예시**: 12.34.158.5

#### 5.2 이진수와 점 표기법
```
12.34.158.5
00001100 00100010 10011110 00000101
```

### 계층적 주소 체계의 필요성

#### 5.3 인터넷의 특성
- **인터넷**: "inter-network" (네트워크 간 연결)
- **목적**: 호스트가 아닌 네트워크를 연결
- **필요성**: 네트워크(호스트 그룹)를 주소화해야 함

#### 5.4 확장성 문제
**임의 주소 사용 시 문제:**
- 모든 라우터가 모든 호스트에 대한 정보 필요
- 라우팅 테이블 크기가 비대해짐
- 새로운 호스트 추가 시 모든 라우터 업데이트 필요

잘못된 방식 (호스트별 주소):
서울시 강남구 역삼동 123-45 (김철수)
서울시 강남구 역삼동 123-46 (이영희)
서울시 강남구 역삼동 123-47 (박민수)
→ 우체국이 모든 개인 주소를 기억해야 함

올바른 방식 (네트워크별 주소):
서울시 강남구 역삼동 → 역삼동 우체국이 담당
부산시 해운대구 우동 → 우동 우체국이 담당
→ 우체국은 "도시-구-동" 단위로만 관리

**예시:**
```
호스트: 1.2.3.4, 5.6.7.8, 2.4.6.8, 1.2.3.5, 5.6.7.9, 2.4.6.9
→ 각 라우터가 6개 호스트 정보 모두 보유해야 함
```

### 계층적 주소 체계의 해결책

#### 5.5 IP 접두사 (Prefix)
- **개념**: 네트워크와 호스트 부분으로 분리
- **표기법**: a.b.c.d/x (x는 서브넷 부분의 비트 수)
- **예시**: 12.34.158.0/24는 24비트 접두사로 2^8개 주소

예시:
대륙 → 국가 → 지역 → ISP → 네트워크 → 호스트

아시아 → 한국 → 서울 → KT → 강남구 → 개별 호스트

#### 5.6 주소와 서브넷 마스크
```
주소: 12.34.158.5
00001100 00100010 10011110 00000101

마스크: 255.255.255.0
11111111 11111111 11111111 00000000

결과: 네트워크(24비트) + 호스트(8비트)
```

### 확장성 개선

#### 5.7 계층적 주소 할당의 장점
- **관련 호스트들을 공통 서브넷에서 번호 매김**
- **예시**: 왼쪽 LAN은 1.2.3.0/24, 오른쪽 LAN은 5.6.7.0/24
- **결과**: 라우터가 네트워크 단위로만 정보 보유

#### 5.8 새 호스트 추가의 용이성
- **라우터 업데이트 불필요**
- **예시**: 5.6.7.213 호스트 추가 시 포워딩 테이블 변경 없음
- **장점**: 네트워크 확장이 간단함

---

## 6. 서브넷과 CIDR

### 클래스풀 주소 체계

#### 6.1 기존 주소 체계의 문제
**고정 할당 크기만 사용:**
- **클래스 A**: 0* (매우 큰 /8 블록)
- **클래스 B**: 10* (큰 /16 블록)
- **클래스 C**: 110* (작은 /24 블록)
- **클래스 D**: 1110* (멀티캐스트 그룹)
- **클래스 E**: 11110* (향후 사용 예약)

**예시:**
- MIT: 18.0.0.0/8 (클래스 A)
- Princeton: 128.112.0.0/16 (클래스 B)
- AT&T Labs: 192.20.225.0/24 (클래스 C)

### CIDR (Classless Inter-Domain Routing)

#### 6.2 CIDR의 개념
- **정의**: 두 개의 32비트 숫자로 네트워크 표현
- **구성**: 네트워크 번호 = IP 주소 + 마스크
- **표기법**: a.b.c.d/x 형태

#### 6.3 CIDR 예시
```
IP 주소: 12.4.0.0
마스크: 255.254.0.0

주소: 00001100 00000100 00000000 00000000
마스크: 11111111 11111110 00000000 00000000

결과: 12.4.0.0/15 (15비트 네트워크 접두사)
```

### 계층적 주소 할당

#### 6.4 주소 할당 계층 구조
```
ICANN (Internet Corporation for Assigned Names and Numbers)
    ↓ (대규모 블록 할당)
RIR (Regional Internet Registries)
    ↓ (ISP와 대기관에 할당)
ISP (Internet Service Providers)
    ↓ (고객에게 할당)
고객 (다시 고객에게 할당 가능)
```

#### 6.5 계층적 할당의 장점
- **확장성**: 약 400,000개의 접두사로 인터넷 관리
- **효율성**: 연속된 청크(접두사)로 주소 할당
- **예시**: 12.0.0.0/8 → 12.1.0.0/16 → 12.1.1.0/24

### CIDR의 영향

#### 6.6 BGP 테이블 크기 변화
**CIDR 이전 (1988-1994):**
- 급격한 성장 (25,000개 이상)
- 장비 능력 향상보다 빠른 성장

**CIDR 이후 (1994-1996):**
- 상대적으로 평평한 성장
- 집계 노력으로 인한 안정화

### 포워딩 테이블과 최장 접두사 매칭

#### 6.7 접두사 기반 포워딩
- **방법**: 목적지 주소를 일치하는 접두사에 매핑
- **동작**: 출구 인터페이스로 포워딩
- **예시**: 1.2.3.4 → 1.2.3.0/24 접두사 매칭

#### 6.8 CIDR의 복잡성
**문제:**
- 포워딩 테이블에 여러 매칭이 있을 수 있음
- **예시**: 201.10.0.0/21과 201.10.6.0/23 모두 매칭
- **해결책**: 최장 접두사 매칭 사용

#### 6.9 최장 접두사 매칭
- **정의**: 목적지 기반 포워딩
- **방법**: 라우터가 최장 일치 접두사 식별
- **특징**: 매우 빠른 조회가 필요한 알고리즘 문제

**예시:**
```
포워딩 테이블:
4.0.0.0/8
4.83.128.0/17
201.10.0.0/21
201.10.6.0/23

목적지: 201.10.6.17
결과: 201.10.6.0/23 (더 구체적인 접두사)
```

### 서브넷

#### 6.10 서브넷의 정의
- **개념**: 동일한 서브넷 부분의 IP 주소를 가진 장치 인터페이스
- **특징**: 중간 라우터 없이 물리적으로 도달 가능
- **예시**: 223.1.1.1, 223.1.1.2, 223.1.1.3, 223.1.1.4

#### 6.11 서브넷 구성
```
서브넷 1: 223.1.1.0/24
서브넷 2: 223.1.2.0/24
서브넷 3: 223.1.3.0/24

네트워크: 3개 서브넷으로 구성
```

#### 6.12 서브넷 식별
- **고차 비트**: 서브넷 부분
- **저차 비트**: 호스트 부분
- **예시**: 223.1.1.1에서 223.1.1이 서브넷, 1이 호스트

---

## 7. 포트포워딩과 게임 서버

### 포트포워딩의 개념

#### 7.1 포트포워딩 정의
- **정의**: NAT 라우터가 특정 포트로 들어오는 트래픽을 내부 네트워크의 특정 장치로 전달하는 기술
- **목적**: 사설 네트워크 내부의 서버를 외부에서 접근 가능하게 함
- **비유**: 우체국에서 특정 가정으로 편지를 전달하는 것

#### 7.2 포트포워딩 동작 원리
```
외부 요청: 공인IP:포트 → NAT 라우터 → 사설IP:포트
예시: 203.241.50.1:25565 → NAT → 192.168.1.100:25565
```

### 마인크래프트 서버와 포트포워딩

#### 7.3 마인크래프트 서버 설정 과정

**1단계: 서버 프로그램 실행**
- 마인크래프트 서버 프로그램을 PC에서 실행
- 기본 포트: 25565 (TCP)
- 서버는 사설 IP 주소로 실행됨 (예: 192.168.1.100:25565)

**2단계: NAT 라우터 설정**
- 라우터 관리 페이지 접속 (보통 192.168.1.1)
- 포트포워딩 설정 메뉴로 이동
- 외부 포트: 25565, 내부 IP: 192.168.1.100, 내부 포트: 25565 설정

**3단계: 외부 접속**
- 친구들이 공인 IP 주소로 접속 (예: 203.241.50.1:25565)
- NAT 라우터가 요청을 내부 서버로 전달
- 마인크래프트 서버가 응답

#### 7.4 포트포워딩 설정 예시
```
라우터 포트포워딩 테이블:
외부 포트    내부 IP          내부 포트    프로토콜
25565       192.168.1.100   25565       TCP
80          192.168.1.101   80          TCP
443         192.168.1.101   443         TCP
```

### DMZ (Demilitarized Zone)

#### 7.5 DMZ의 개념
- **정의**: 네트워크의 중간 영역으로, 내부 네트워크와 외부 네트워크 사이에 위치
- **목적**: 외부 접근이 필요한 서버를 안전하게 배치
- **특징**: 내부 네트워크와 격리되어 보안 강화

#### 7.7 마인크래프트 서버에서의 DMZ 활용
**DMZ 설정 시:**
- 마인크래프트 서버 PC를 DMZ로 설정
- 모든 포트가 자동으로 전달됨
- 포트포워딩 설정 불필요
- 보안 위험 증가

**DMZ 설정 예시:**
```
라우터 설정:
DMZ 호스트: 192.168.1.100 (마인크래프트 서버 PC)
→ 모든 외부 요청이 192.168.1.100으로 전달
```

### Hamachi와 가상 사설망

#### 7.8 Hamachi의 개념
- **정의**: 가상 사설망(VPN) 서비스
- **목적**: NAT를 우회하여 직접 연결 생성
- **특징**: 별도의 포트포워딩 설정 불필요

#### 7.9 Hamachi 동작 원리
```
기존 연결: 클라이언트 → 인터넷 → NAT → 서버
Hamachi 연결: 클라이언트 → Hamachi 서버 → 서버
```

#### 7.10 다양한 접속 방식

**1. 포트포워딩 방식**
- **장점**: 빠른 속도, 직접 연결
- **단점**: 설정 복잡, 공인 IP 필요
- **적용**: 마인크래프트, 웹 서버

**2. DMZ 방식**
- **장점**: 설정 간단, 모든 포트 사용 가능
- **단점**: 보안 위험, 전체 PC 노출
- **적용**: 개발/테스트 환경

**3. Hamachi 방식**
- **장점**: 설정 간단, NAT 우회
- **단점**: 속도 제한, 서버 의존
- **적용**: 임시 게임, 소규모 그룹

**4. 호스팅 서비스**
- **장점**: 전문 관리, 안정성
- **단점**: 비용 발생, 제한적 설정
- **적용**: 상용 서비스, 대규모 게임

#### 7.12 마인크래프트 서버 구축 시나리오

**개인 서버 (포트포워딩)**
```
1. 마인크래프트 서버 프로그램 다운로드
2. server.properties 파일 설정
3. 라우터에서 포트포워딩 설정 (25565)
4. 공인 IP 주소 확인
5. 친구들에게 공인 IP 주소 공유
```

**Hamachi 서버**
```
1. Hamachi 프로그램 설치
2. 네트워크 생성 또는 참여
3. 마인크래프트 서버 실행
4. Hamachi IP 주소로 접속
5. 별도 설정 불필요
```

### 네트워크 보안 고려사항

#### 7.13 포트포워딩의 보안 위험
- **서버 노출**: 내부 서버가 외부에 직접 노출
- **공격 대상**: 스캔 공격, DDoS 공격 가능
- **방화벽**: 추가 보안 설정 필요

#### 7.14 보안 대책
**포트포워딩 시:**
- 방화벽 설정으로 불필요한 포트 차단
- 정기적인 서버 업데이트
- 강력한 비밀번호 설정
- 접속 로그 모니터링

**DMZ 사용 시:**
- DMZ PC의 보안 소프트웨어 설치
- 정기적인 백업
- 접속 제한 설정

### 실제 네트워크 구성 예시

#### 7.15 가정용 네트워크 구성
```
인터넷
    ↓
공유기 (NAT)
    ↓
├── PC1 (192.168.1.100) - 마인크래프트 서버
├── PC2 (192.168.1.101) - 일반 사용
└── PC3 (192.168.1.102) - 일반 사용

포트포워딩 설정:
외부: 25565 → 내부: 192.168.1.100:25565
```

#### 7.16 Hamachi 네트워크 구성
```
Hamachi 서버
    ↓
├── 사용자A (가상 IP: 25.0.0.1)
├── 사용자B (가상 IP: 25.0.0.2)
└── 사용자C (가상 IP: 25.0.0.3)

모든 사용자가 25.0.0.1:25565로 접속
```

### 핵심 개념 정리

1. **NAT**: 사설 네트워크를 공인 IP로 변환하는 기술
2. **DHCP**: 동적 IP 주소 할당 프로토콜
3. **IP 데이터그램**: 네트워크 계층의 기본 전송 단위
4. **네트워크 계층**: 포워딩과 라우팅의 핵심 계층
5. **IP 주소 체계**: 계층적 주소 할당으로 확장성 확보
6. **CIDR**: 클래스 없는 도메인 간 라우팅
7. **서브넷**: 물리적으로 연결된 호스트 그룹
8. **포트포워딩**: NAT를 통한 특정 포트 전달 기술
9. **DMZ**: 외부 접근 서버를 위한 중간 영역
10. **Hamachi**: 가상 사설망을 통한 NAT 우회

> 본 내용은 강의 슬라이드와 교재 내용을 바탕으로 정리하였다.
